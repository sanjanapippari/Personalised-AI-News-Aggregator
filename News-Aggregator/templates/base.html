<!DOCTYPE html>
<html>
  <head>
    <title>{% block title %}NewsDoot{% endblock %}</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
    <style>
      body {
        background-color: white;
        color: black;
        font-size: 18px;
      }

      .dark-mode {
        background-color: #111;
        color: white;
      }

      .navbar-brand {
        font-weight: bold;
        font-size: 26px;
      }

      .filter-form {
        background-color: #f8f9fa;
        padding: 20px;
        border-radius: 10px;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
      }

      .dropdown-menu-end {
        right: 0;
        left: auto;
      }
    </style>
    {% block extra_head %}{% endblock %}
  </head>

  <body>
    {% load social_share %}
     <nav class="navbar navbar-expand-lg navbar-dark bg-dark mb-4 px-3">
  <!-- üîô Back Button -->
  <a href="javascript:history.back()" class="btn btn-outline-light me-3">
    <i class="fas fa-arrow-left"></i> Back
  </a>

  <!-- Site Name -->
  <a class="navbar-brand" href="#">üì∞ NewsDoot</a>

      <div class="ms-auto dropdown">
        <button class="btn btn-outline-light dropdown-toggle" type="button" id="userDropdown" data-bs-toggle="dropdown" aria-expanded="false">
          üë§ {{ request.user.username }}
        </button>
        <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="userDropdown">
          <li>
            <form method="POST" action="{% url 'logout' %}" class="px-3">
              {% csrf_token %}
              <button type="submit" class="dropdown-item">Logout</button>
            </form>
          </li>
          <li><a class="dropdown-item" href="{% url 'liked_articles' %}">‚ù§Ô∏è Liked Articles</a></li>
          <li><a class="dropdown-item" href="{% url 'disliked_articles' %}">üëé Disliked Articles</a></li>
          <li><a class="dropdown-item" href="#">User Dashboard (Coming Soon)</a></li>
          <li><a class="dropdown-item" href="#" onclick="toggleDarkMode()">Change Mode</a></li>
        </ul>
      </div>
    </nav>

    <div class="container">
      {% block content %}{% endblock %}
    </div>

    <script>

        function toggleDarkMode() {
    const isDark = document.body.classList.toggle("dark-mode");
    localStorage.setItem("theme", isDark ? "dark" : "light");
  }
</script>
<script>
  // Apply saved theme when the page loads
  document.addEventListener("DOMContentLoaded", function() {
    const theme = localStorage.getItem("theme");
    if (theme === "dark") {
      document.body.classList.add("dark-mode");
    }
  });
</script>

    </script>
    {% block extra_scripts %}{% endblock %}
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"></script>
  </body>
</html>
